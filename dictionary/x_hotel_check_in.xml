<?xml version="1.0" encoding="UTF-8"?>
<database>
    <element label="Check-in" max_length="40" name="x_hotel_check_in" type="collection">
        <element default="javascript:gs.now()" dynamic_default_value="fb7553e85f220100a9ad2572f2b477b4" label="Check-in Date" mandatory="true" max_length="40" name="check_in_date" type="glide_date" use_dynamic_default="true"/>
        <element label="Comments" max_length="500" name="comments" type="string"/>
        <element label="Guest" max_length="32" name="guest" reference="sys_user" reference_qual="active=true^EQ" reference_qual_condition="active=true^EQ" type="reference"/>
        <element attributes="ignore_filter_on_new=true" default="javascript:global.getNextObjNumberPadded();" label="Number" max_length="40" name="number" read_only="true" type="string"/>
        <element calculation="(function calculatedFieldValue(current) {&#13;&#10;&#13;&#10;&#9;//gs.include('ArrayUtil');&#13;&#10;&#9;// Add your code here&#13;&#10;&#9;var occ = [];&#13;&#10;&#9;//var a = new ArrayUtil();&#13;&#10;&#9;var r = new GlideRecord('x_hotel_check_in');&#13;&#10;&#9;r.addQuery('check_in_date',current.check_in_date);&#13;&#10;&#9;r.query();&#13;&#10;&#9;while(r.next())&#13;&#10;&#9;&#9;occ.push(r.room);&#13;&#10;&#9;&#13;&#10;&#9;//occ = a.unique(occ);&#13;&#10;&#9;&#13;&#10;&#9;return occ;  // return the calculated value&#13;&#10;&#13;&#10;})(current);" dependent="check_in_date" dependent_on_field="check_in_date" label="Room" mandatory="true" max_length="32" name="room" reference="x_hotel_room" type="reference" use_dependent_field="true" virtual="true"/>
        <element label="VIP Option" max_length="40" name="vip_option" type="boolean"/>
        <index name="index">
            <element name="guest"/>
        </index>
        <index name="index2">
            <element name="room"/>
        </index>
    </element>
</database>
